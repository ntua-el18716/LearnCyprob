---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import { getCollection } from "astro:content";
import Benefit from "@components/Benefit.astro";
import Blog from "@components/Blog.astro";
import { Icon } from "astro-icon/components";

const posts = (await getCollection("cyprob")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout>
  <section class="text-center">
    <div class="grid place-items-center">
      <Header title="Learn Cyprus Problem" />
      <p class="mt-3 max-w-prose leading-relaxed">
        The goal of LearnCyprob is to help people learn about the different
        aspects of the solution of the Cyprus Problem, the history of the
        negotiations and give access to all the documents published related to
        the Cyprus problem
      </p>
    </div>
  </section>
  <section class="text-center mt-20">
    <div>
      <Header title="Why use LearnCyprob?" />
      <ul class="grid grid-cols-1 gap-4 place-items-center">
        <Benefit
          iconName="cyprusflag"
          title="Learn the basic aspects of the Cyprus Problem"
          description="Comes with many different MDX remark plugins to make your blog posts look great and more functional."
        />
        <Benefit
          iconName="peace-negotiations"
          title="Explore the history of past negotiations"
          description="With Astro, you get a 100 Lighthouse score out of the box. No need to worry about performance!"
        />
        <Benefit
          iconName="peace-document"
          title="Study the original documents of the past negotiations"
          description="Just create an MDX file, add the metadata, and you're good to go writing your blog post!"
        />
        <Benefit
          iconName="peace-calendar"
          title="Get the latest developments about the Cyprus Problem"
          description="This template is free and open source. Feel free to contribute to the project on GitHub!"
        />
      </ul>
    </div>
  </section>
  <section>
    <h2 class="mt-12 text-2xl font-semibold dark:text-zinc-100 text-zinc-900">
      Recent Posts
    </h2>
    <ul class="mt-6 grid grid-cols-1 gap-6">
      {posts.slice(0, 3).map((post) => <Blog {...post} />)}
    </ul>
    <a
      class="inline-block mt-7 dark:hover:text-zinc-50 hover:text-zinc-400 transition-colors"
      href="/blog/">View all posts &rarr;</a
    >
  </section>
</Layout>
